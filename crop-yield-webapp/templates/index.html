<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Crop Yield & Water Estimator</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <header class="site-header">
    <div class="gov-brand">
      <img src="" alt="" class="logo" aria-hidden="true">
      <div>
        <h1 id="title">Crop Yield & Water Estimator</h1>
        <p class="tagline">Simple estimates for yield, evapotranspiration and irrigation needs</p>
      </div>
    </div>
    <div class="header-actions">
      <a href="/login" class="login-btn">Login / Register</a>
      <div class="lang-toggle" id="lang-toggle">
        <label><input type="radio" name="lang" value="en" checked> EN</label>
        <label><input type="radio" name="lang" value="ta"> தமிழ்</label>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="instructions card">
      <h2>How to use</h2>
      <ol>
        <li>Select your <strong>State</strong> (numbered list is used by the model).</li>
        <li>Choose the <strong>District</strong> (Tamil Nadu districts provided).</li>
        <li>Pick the <strong>Season</strong> and <strong>Crop</strong>.</li>
        <li>Enter the cultivated <strong>Area (hectares)</strong> and press <em>Get Prediction</em>.</li>
      </ol>
      <p class="note">Production field is hidden by design and set to a default internally. For better accuracy, retrain model without production or provide production defaults.</p>
    </section>

    <section class="card form-card">
      <h2 id="form-title">Enter inputs</h2>
      <form id="predict-form">
        <label for="state">Select State</label>
        <select id="state" name="state">
          {% for s in states %}
          <option value="{{ loop.index }}">{{ s }}</option>
          {% endfor %}
        </select>

        <label for="district">Select District (Tamil Nadu)</label>
        <select id="district" name="district">
          {% for d in tn_districts %}
          <option value="{{ loop.index }}">{{ d }}</option>
          {% endfor %}
        </select>

        <label for="season">Select Season</label>
        <select id="season" name="season">
          {% for s in seasons %}
          <option value="{{ loop.index }}">{{ s }}</option>
          {% endfor %}
        </select>

        <label for="crop">Select Crop</label>
        <select id="crop" name="crop">
          {% for c in crops %}
          <option value="{{ loop.index }}">{{ c }}</option>
          {% endfor %}
        </select>

        <label for="area">Area (hectares)</label>
        <input id="area" name="area" type="number" step="0.01" min="0.01" value="1.0">

        <button type="submit" id="predict-btn" class="gov-btn">Get Prediction</button>
      </form>
    </section>

    <section class="card" id="results" style="display:none;">
      <h2 id="results-title">Results</h2>
      <div id="output"></div>
      <div class="result-actions">
        <button id="back-btn" class="gov-btn alt">New prediction</button>
        <button id="download-btn" class="gov-btn">Download Report (PDF)</button>
      </div>
    </section>

    <section class="card info-card">
      <h3>About this tool</h3>
      <p>This tool loads a pre-trained model and returns estimated yield. ETc and water numbers are estimated using seasonal ETo averages and crop coefficients (Kc). Use these estimates as guidelines; consult local extension services for exact irrigation scheduling.</p>
    </section>
  </main>

  <footer class="site-footer">
    <div>© Crop Yield Estimator</div>
  </footer>

<script src="/static/script.js"></script>
</body>
</html>