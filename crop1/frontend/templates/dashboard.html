{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block body %}
<header class="header">
  <div class="logo">CropAssist</div>
  <div class="header-right">
    <span>Welcome, {{ username }}</span>
    <a href="/logout" class="link-logout">Logout</a>
  </div>
</header>

<div class="layout">
  <aside class="sidebar">
    <ul>
      <li><a href="{{ url_for('index') }}">Predict</a></li>
      <li><a href="{{ url_for('predictions') }}">Saved Predictions</a></li>
    </ul>
  </aside>

  <main class="content">
    <h2>My Saved Input History</h2>
    {% if history %}
    <table class="data-table">
      <thead>
        <tr>
          <th>ID</th><th>Crop</th><th>State</th><th>District</th><th>Season</th><th>Area</th><th>Saved At</th>
        </tr>
      </thead>
      <tbody>
        {% for h in history %}
        <tr>
          <td>{{ h.id }}</td>
          <td>{{ h.crop }}</td>
          <td>{{ h.state }}</td>
          <td>{{ h.district }}</td>
          <td>{{ h.season }}</td>
          <td>{{ h.area }} {{ h.area_unit }}</td>
          <td>{{ h.timestamp }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p>No saved history yet.</p>
    {% endif %}
  </main>
</div>
{% endblock %}
